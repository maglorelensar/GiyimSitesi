<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      template="/template/template.xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name="content">
        <h:form enctype="multipart/form-data" id="reslist">
            <b> Ürün Resmi(Dosya adında Türkçe karakter kullanmayınız!!!) : </b>  <h:inputFile value="#{phc.photo}" styleClass="custom-file"/>
            <h:commandButton action="#{phc.yukle}" value="Resmi yükle" styleClass="btn btn-primary" style="margin-right:25px;"></h:commandButton>
            <br/><br/></h:form>
        <h:form id="sil">
            <h:dataTable styleClass="table table-striped table-hover" value="#{phc.phList}" var="phot">
                <h:column>
                    <f:facet name="header">Dosya Id</f:facet>
                        #{phot.d_id}
                </h:column>
                <h:column>
                    <f:facet name="header">Dosya Yolu</f:facet>
                        #{phot.dosyayolu}
                </h:column>
                <h:column>
                    <f:facet name="header">Yüklenen Resimler</f:facet>
                    <h:graphicImage value="/file/#{phot.dosyaadi}" width="50" height="50"/>
                </h:column>
                <h:column>
                    <f:facet name="header">Dosya Tipi</f:facet>
                        #{phot.dosyatipi}
                </h:column>
              <h:column>
                  <h:commandButton action="#{phc.sil(phot)}" value="Sil">
                      <f:ajax execute="@this" render="sil"/>
                  </h:commandButton>
                </h:column>
            </h:dataTable>
        </h:form>

    </ui:define></ui:composition>
